<%# @subject defined at
    https://github.com/pulibrary/figgy/blob/765c946aca7123dc97af8de9791de7a1220595cc/app/controllers/ephemera_folders_controller.rb#L72 %>
<% if @subject.present? %>
  <%= f.input :subject,
              label: 'Subject',
              as: :grouped_select,
              collection: @subject,
              group_method: :terms,
              group_label_method: :label,
              label_method: :label,
              value_method: :id,
              input_html: { multiple: f.object.multiple?(key),
                            class: 'select2',
                            data: {
                              live_search: true
                            }
                          },
              required: f.object.required?(key) %>
<% else %>
  <% if f.object.multiple? key %>
    <%= f.input key, as: :multi_value, input_html: { class: 'form-control' }, required: f.object.required?(key) %>
  <% else %>
    <%= f.input key, required: f.object.required?(key) %>
  <% end %>
<% end %>
